# 서론

> 이제 MSA에 대한 설명은 끝났고, 이제 조직과 프로세스에 대해 알아보자

큰 프로젝트에서 MSA는 정답에 가깝다.

하지만 제대로된 조직, 개발 프로세스와 배포 프로세스가 수립되어야 비로소 성공적인 소프트웨어 개발이 가능하다.

![img](https://thebook.io/img/007035/062.jpg)

위 그림에서 볼 수 있다싶이 소규모의 작은 팀에서 자주 CI/CD를 하고 다양한 DevOps 기술들을 사용해야 한다.

# 1.7.1 소프트웨어 개발/전달 조직

Fred Brooks의 The Mythical Man-Month에 따르면 크기가 N인 팀은 소통을 할 때 O(N²)만큼의 오버헤드를 갖는다고 한다.

따라서 팀의 규모는 작게 유지하는게 좋다.

<br>

비지니스 관점에서 팀의 목적은 **어떤 기능이나 비지니스 능력을 지닌 서비스를 개발하고 운영**하는 것이다.

한 팀에서 모든것을 처리할 수 있는 능력을 지니고 있다면, **다른 팀들과의 회의 없이 독자적으로 서비스 개발**이 가능하다.

<br>

## Reverse Conway Maneuver

MSA에서 소프트웨어를 효과적으로 전달하려면 콘웨이의 법칙에 대해 이해할 필요가 있다.

<br>

*시스템을 설계하는 조직은 그들이 소통하는 구조를 그대로 옮겨 놓은 듯한 결과물을 낼 수밖에 없는 한계가 있다*

`멜빈 콘웨이(Melvin Conway)`

<br>

즉 **Application의 아키텍쳐는 그것을 개발하는 조직의 커뮤니케이션 구조를 가져가야 한다**는 의미이다.

이를 이용해 개발팀과 서비스의 관계를 느슨하게 유지시킬 수 있다.

<br>

**거대한 한 팀 보다는 작은 여러 팀의 움직임이 훨씬 수월하고 빠르다.**

MSA는 팀을 자유롭게 움직일 수 있도록 하고 다른 팀과의 협업 없이 서비스를 개발/배포/확장할 수 있다.

Service Layer Agreement를 충족하지 못한 서비스가 있다면 어느 팀에게 연락을 해야 할지도 분명하다.

그리고 무엇보다 개발 조직의 확장성이 늘어난다.

팀을 늘려 조직 자체를 키울 수 있고, 어떤 팀이 커지면 다시 서비스별로 나눌 수 있다.

따라서 거대한 팀에서 발생하는 **소통 오버헤드는 걱정하지 않아도 되고, 생산성에 영향 없이 인원 보강이 가능**하다.

<br>

# 1.7.2 소프트웨어 개발/전달 프로세스

WaterFall 개발 프로세스로 MSA를 구축하는 것은 MSA로 얻는 모든 이익들을 날려버리는 것이다.

> WaterFall이란 개발 방법론 중 하나로 말 그대로 폭포수가 떨어지듯 각 단계별로 순차적인 진행을 하는것을 의미한다.
>
> ![img](https://t1.daumcdn.net/cfile/tistory/9923143D5C9DEB3F28)
>
> 다음과 같은 순서로 이루어져 있다.
>
> 1. 요구사항 분석
> 2. 설계
> 3. 구현
> 4. 검증
> 5. 유지보수
>
> 이러한 WaterFall 방법에는 장단점이 있다.
>
> **장점**
>
> - 오래되어서 자료가 풍부하다.
> - 각 과정을 이해하기 쉽다.
> - 결과물을 관리하기 쉽다.
>
> **단점**
>
> - 각 관계가 수직적인 관계를 가져서 각 단계를 병행할 수 없다.
> - 오류에 대한 즉각적인 피드백이 힘들다.
> - 개발이 완료되기 전 사용자의 피드백을 담아내기 힘들다.

애자일 개발 프로세스와 Scrum과 Kanban을 실천해야 하고, CI/CD를 도입해야 한다.

<br>

CI의 핵심은 **소프트웨어를 언제나 Release 할 수 있는 상태로 유지**시키는 것이기 때문에, 테스트 자동화 등 높은 수준의 자동화는 필수다.

CD는 여기서 한발짝 더 나아가 릴리즈 가능한 코드를 자동으로 배포해주는 것이다. CD를 실천하는 프로젝트는 하루에도 여러번씩 배포가 가능하고, 사고는 거의 없고 발생해도 빠르게 복구할 수 있다.

> 소프트웨어 개발 수준을 평가하는 네가지 기준이 있다.
>
> - **배포 빈도(Deployment Frequency): **소프트웨어를 얼마나 자주 배포하는가?
> - **리드 타임(Lead Time): **개발자가 변경 사항을 파악한 후 배포까지 걸린 시간
> - **평균 복구 시간(Mean Time To Recover): **프로덕션의 복구에 걸린 시간
> - **변경분 실패율(Change Failure Rate): **프로덕션에 문제를 일으킨 변경 사항의 비율

