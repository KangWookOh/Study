# 5.4.0 Foreground

주방 서비스는 음식점이 주문을 관리할 수 있도록 해주는 서비스이다.

주요 Aggregate는 다음과 같다.

<img src="../../images/image-20211108080218106.png" alt="image-20211108080218106" style="zoom:67%;" />

- **Restaurant:** 음식점 메뉴 / 운영시간을 통해 주문을 검증해주는 Aggregate
- **Ticket:** 배달원이 픽업할 수 있도록 음식점이 준비해야 하는 주문들을 보여준다.

<br>

- **RestAPI:** 음식점 직원이 호출할 RestAPI로, 적절한 KitchenService를 호출해준다.
- **KitchenServiceCommandHandler:** Saga의 요청을 받아들이는 비동기 API로, 적절한 KitchenService를 호출해준다.
- **KitchenServiceEventConsumer:** RestaurantService가 발행한 이벤트를 구독해 주는 Consumer로, 적절한 KitchenService를 호출해준다.

<br>

- **DBAdapter:** Repository들이 이에 속한다.
- **DomainEventPublishingAdapter:** DomainEventPublisher 인터페이스를 구현하여 Ticket 도메인 이벤트를 발행한다.

