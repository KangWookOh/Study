# SQL

### SQL이란

관계형 데이터베이스를 위한 **표준**질의어로, 비 절차적 데이터 언어다.

> 표준이긴 하지만, 대부분 완전히 따르진 않고 데이터베이스마다 독자적인 SQL을 가진다.

### 발전

SEQUEL에서 유래되었다.

ANSI와 ISO에서 표준화를 진행해서 나온게 SQL이다.

### 분류

- DDL

  데이터 정의어

  테이블을 생성하고, 변경 및 제거 하는 기능을 제공한다.

- DML

  데이터 조작어

  테이블에 새 데이터를 넣고, 수정하는 등 데이터를 변경시켜 준다.

- DCL

  데이터 제어어

  말 그대로 데이터를 특정 시점에 저장하고, 그 시점으로 돌리는 등 제어할 수 있다.

### 처리 과정

1. 문법 검사

2. 권한 체크

3. 메모리 공간을 확인한다.(shared pool check)

4. 쿼리를 어떻게 실행할지 계획을 짠다.(optimization)

   SQL을 더 빠르고 효율적이게 만드려면 optimization에 대해 잘 알고 있어야 한다.

5. row source generator

6. 실행

### DDL

테이블명은 객체를 의미할 수 있는 이름을 사용해야 한다.

**단수형을 추천한다.**

테이블 명은 중복되면 안된다.

한 테이블에 중복된 이름의 컬럼은 있을 수 없다.

> 테이블이 다르면 중복될 수 있다.

각 컬럼들은 `,`로 구분되고, 쿼리의 끝은 항상 `;`로 끝난다.

컬럼에 대해 다른 테이블까지 고민해서, 일관성 있게 하는게 좋다.

> 데이터  표준화 관점 - 공통성 컬럼은 도메인으로 관리

컬럼 뒤에 데이터 유형은 필수다.

테이블, 컬럼명은 문자로 시작해야 하고, 길이에 한계가 있다.

예약어는 사용할 수 없다.

> 보통 스네이크 케이스를 사용한다.

#### 제약조건

이러한 제약조건은 `데이터 사전`에 저장된다.

- NOT NULL

  값에 NULL을 허용하지 않겠다는 의미.

  ORACLE에서는 ` `처럼 공백도 NULL로 처리한다.

- DEFAULT

  만약 INSERT 시에 값을 주지 않았다면 어떤 값을 넣어줄지 정한다.

- CHECK

  `CONTRAINT TEST_OK1 CHECK(DEL_YN IN ('Y','N'))` 처럼 사용할 수 있고, 해당 조건에 맞는 값들만 넣을 수 있도록 한다.

- UNIQUE

  해당 컬럼은 값이 중복될 수 없음을 의미하는 제약 조건.

  NULL은 여러개 저장될 수 있다.

- PRIMARY KEY

  하나의 튜플을 정의할 수 있는 컬럼

  기본적으로 NOT NULL & UNIQUE 속성을 가지고 있다.

