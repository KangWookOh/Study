# Reactive Programming

## 1-1 Reactive Manifesto

Reactive Manifesto는 **리엑티브 애플리케이션 개발의 핵심 원칙에 대한 정의**를 의미한다.

먼저 Reactive Programming에 대한 오해가 있는데, **Reactive는 빠른 속도를 의미하지 않는다.**

Reactive Programming은 **더 효율적인 처리**를 할 뿐이지, 더 빠르지는 않다.

<br>

다음 그림과 같은 특징들을 가지고 있다.

![manifesto](./images/reactive_manifesto.svg)

Reactive Application은 **반응성**, **탄력성**, **유연성**, **메세지 주도**와 같은 특성이 있다.

<br>

- **Responsive**

  리엑티브 애플리케이션은 일정하고 예상할 수 있는 반응 시간을 제공해야 한다.

  또한 반응성은 문제가 빠르게 발견되고 효율적으로 처리되어야 한다.

  이러한 웹 어플리케이션들은 빠르고 일정한 반환시간을 제공하고, 일정함은 에러 핸들링을 간단하게 해 준다.

  사용성과  호용성의 초석이 된다.

<br>

- **Resilient**

  장애가 발생해도 시스템은 반응해야 한다.

  Replication(동일한 서버를 다른 서버에도 배포), containment(억제), isolation(격리), delegation(위임)을 통해 달성할 수 있다.

  높은 사용성은 Replication에 의해 보장되며, 각각의 컴포넌트의 회복은 다른 컴포넌트에게 위임한다.

<br>

- **Elastic**

  리액티브 애플리케이션에서는 서버마다 각각 다른 부하를 받게 된다.

  따라서 다양한 부하가 발생했을 때 자동으로 관련 컴포넌트의 할당한 자원 수를 늘려야 한다.

  넷플릭스를 예로 들었을 때, 만약 너무 많은 사람들이 한꺼번에 접근하게 되면 Netflix 서버는 Scale-Up을 자동으로 한다.

<br>

- **Message Driven**

  탄력성과 회복성을 위해서는 약한 결합, 고립 등을 지원하도록 컴포넌트간의 경계를 명확히 해야 한다.

  이를 위해서 비동기 메세지를 전달하는데, 이에 따라 컴포넌트끼리의 통신이 발생하게 되고, 이로 인해 회복성과 탄력성을 얻을 수 있다.

  또한 명시적인 메세지 전달 방식을 하면 부하관리, 탄력성, 흐름 제어를 가능하게 해준다.

<br>

## What is Reactive Programming

> 리액티브 프로그래밍이란?

### 소개

리액티브 프로그래밍이란 **데이터의 흐름에 초점을 둔 비동기 프로그래밍 패러다임**이다

<br>

"리액티브 프로그래밍은 **그들의 환경과 지속적인 상호작용을 유지**해 주지만, 프로그램이 아닌 **환경에 의해 결정**된다.

Interactive 프로그램은 고유의 페이스를 가지며, 주로 Communication을 다루는 반면 Reactive 프로그램은 외부의 요청에 응답하고 정확한 interrupt handling을 한다.

실시간 프로그램은 주로 Reactive다"

` -Gerad Berry-`

`Reactive programs also maintain a continuous interaction with their environmen, but at a apeed which is determined by the environmen, not the program itself. Interactive programs work at their own pace and mostly deal with communication, while reactive programs only work in response to external demands and mostly deal with accurate interrupt handling. Real-time programs are usually reactive.`

**매우 중요한 개념**이기 때문에 이해하면 좋지만, 이해하지 못해도 Reactive의 이해를 시작하는 수준이기 때문에 천천히 해도 된다.

앞으로의 설명에서 충분히 이해할 수 있다.

<br>

### Reactive Programming이 주로 사용되는 곳

- 외부 서비스 호출
- 높은 수준의 도시성 메세지 발행
- SpreadSheet
- 비동기 프로세스를 통한 추상화
- 프로그램이 동기인지 비동기인지 추상화

### Reactive Programming 특징

- Data Streams
- Asynchronous
- Non Blocking
- Backpressure
- Failures as Messages

기존 애플리케이션에서 **Exception을 발생시키는 것은 많은 비용이 발생**했다.

throw가 발생할 뿐만 아니라 application을 interrupt 시켜야 했기 때문이다.

하지만 Reactive Programming에서는 이를 개선하여서 Exception이 발생하면 이를 **메세지로 변환**한다.

그리고 나서 **구독자에게 해당 메세지를 핸들링**하게 되는데,

이는 시스템의 인터럽트가 존재하지 않기 때문에 **훨씬 효율적인 처리** 라고 할 수 있다.

### 비동기(Asynchronous)

Reactive Programming에서 Event는 비동기적으로 할당되게 된다.

하나의 함수는 **하나의 Event(data)가 발산되었을 때 실행되도록 정의**된다.

다른 함수는 **에러가 발생했을 때 정의**된다.

다른 함수는 **완료 신호가 발생했을 때 정의**된다.

평소에 하던 방식과는 많은 차이가 있기 때문에 적응하기 힘들 수 있다.